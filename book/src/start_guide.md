# Start guide

How to implement SyncA into your project, step by step.

## Install synca

```bash
cargo add synca
```

## Describes features and optional dependencies

```toml
// Cargo.toml

[features]
default = [ ]
sync = [ "dep:postgres" ]
tokio = [ "dep:tokio", "dep:tokio-postgres" ]

[dependencies]
postgres = { version = "0.19.7", optional = true }
synca = { path = "../../synca" }
tokio = { version = "1.35.1", features = [ "full" ], optional = true }
tokio-postgres = { version = "0.7.10", optional = true }
```

## Write code

```rust
#[synca::synca(
  #[cfg(feature = "tokio")]
  pub mod tokio { },
  #[cfg(feature = "sync")]
  pub mod sync { 
    sync!();
    replace!(
      tokio_postgres::Client => postgres::Client,
      tokio_postgres::Error => postgres::Error,
      tokio_postgres::NoTls => postgres::NoTls,
      #[tokio::test] => #[test]
    );
  }
)]
mod my_mod {
  pub struct Calc {
    client: tokio_postgres::Client
  }
}
```

## Tests

Don't forget to test all features

```bash
cargo test --features=sync,tokio
```

Add some tests

```rust
#[synca::synca(
  #[cfg(feature = "tokio")]
  pub mod tokio { },
  #[cfg(feature = "sync")]
  pub mod sync { 
    sync!();
    replace!(
      tokio_postgres::Client => postgres::Client,
      tokio_postgres::Error => postgres::Error,
      tokio_postgres::NoTls => postgres::NoTls,
      #[tokio::test] => #[test]
    );
  }
)]
mod tests {
  #[tokio::test]
  async fn my_test() { }
}
```

## Enjoy

Everything is ready to write only the asynchronous version of the code, 
the synchronous copy is generated by the SyncA.